<!DOCTYPE html>









<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en"
  
>

  <!--
  The Head
-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

    

    

  

  

  

  
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="퀴즈 사이트 만들기_3 (next.js)" />
<meta name="author" content="박지율" />
<meta property="og:locale" content="en" />
<meta name="description" content="시작하며" />
<meta property="og:description" content="시작하며" />
<link rel="canonical" href="http://localhost:4000/posts/Quiz_project_3/" />
<meta property="og:url" content="http://localhost:4000/posts/Quiz_project_3/" />
<meta property="og:site_name" content="jyp_devlog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-08-02T11:33:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="퀴즈 사이트 만들기_3 (next.js)" />
<meta name="twitter:site" content="@twitter_username" />
<meta name="twitter:creator" content="@박지율" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"박지율","url":"https://github.com/1221jyp"},"dateModified":"2023-08-02T11:33:00+09:00","datePublished":"2023-08-02T11:33:00+09:00","description":"시작하며","headline":"퀴즈 사이트 만들기_3 (next.js)","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/Quiz_project_3/"},"url":"http://localhost:4000/posts/Quiz_project_3/"}</script>
<!-- End Jekyll SEO tag -->

  

  <title>퀴즈 사이트 만들기_3 (next.js) | jyp_devlog
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="jyp_devlog">
<meta name="application-name" content="jyp_devlog">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  

    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/style.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script>

  
    <!--
  Switch the mode between dark and light.
-->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() { return "mode"; }
    static get MODE_ATTR() { return "data-mode"; }
    static get DARK_MODE() { return "dark"; }
    static get LIGHT_MODE() { return "light"; }
    static get ID() { return "mode-toggle"; }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener("change", () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }

          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();

      });

    } /* constructor() */

    get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); }

    get isSysDarkPrefer() { return this.sysDarkPrefers.matches; }

    get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; }

    get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; }

    get hasMode() { return this.mode != null; }

    get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode
        || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      $('html').removeAttr(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage({
        direction: ModeToggle.ID,
        message: this.modeStatus
      }, "*");
    }

  } /* ModeToggle */

  const toggle = new ModeToggle();

  function flipMode() {
    if (toggle.hasMode) {
      if (toggle.isSysDarkPrefer) {
        if (toggle.isLightMode) {
          toggle.clearMode();
        } else {
          toggle.setLight();
        }

      } else {
        if (toggle.isDarkMode) {
          toggle.clearMode();
        } else {
          toggle.setDark();
        }
      }

    } else {
      if (toggle.isSysDarkPrefer) {
        toggle.setLight();
      } else {
        toggle.setDark();
      }
    }

    toggle.notify();

  } /* flipMode() */

</script>

  
</head>


  <body data-spy="scroll" data-target="#toc" data-topbar-visible="true">

    <!--
  The Side Bar
-->

<div id="sidebar" class="d-flex flex-column align-items-end">
  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" class="mx-auto">
        
          
          <img src="https://i2-prod.dailystar.co.uk/incoming/article27692782.ece/ALTERNATES/s615b/1_SHOWBIZ-Cartoon.jpg" alt="avatar" onerror="this.style.display='none'">
        
      </a>
    </div>

    <div class="site-title">
      <a href="/">jyp_devlog</a>
    </div>
    <div class="site-subtitle font-italic">박지율의 개발일기</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">

    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/categories/" class="nav-link">
        <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>CATEGORIES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tags/" class="nav-link">
        <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>TAGS</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>ARCHIVES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/playlist/" class="nav-link">
        <i class="fa-fw fas fa-music ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>PLAYLIST</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/about/" class="nav-link">
        <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>ABOUT</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center">

    
      <button class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
      <a href="https://github.com/1221jyp" aria-label="github"
        
        
          
          target="_blank"
        

        

        rel="noopener">
        <i class="fab fa-github primary"></i>
      </a>
      

    
      

      
      <a href="
          javascript:location.href = 'mailto:' + ['1221jyp','gmail.com'].join('@')" aria-label="email"
        
        

        

        >
        <i class="fas fa-envelope"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        
        

        

        >
        <i class="fas fa-rss"></i>
      </a>
      

    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
-->

<div id="topbar-wrapper">
  <div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4">
    <span id="breadcrumb">

    

    

      

        
          <span>
            <a href="/">
              Home
            </a>
          </span>

        

      

        

      

        

          
            <span>퀴즈 사이트 만들기_3 (next.js)</span>
          

        

      

    

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" autocomplete="off" placeholder="Search...">
    </span>
    <span id="search-cancel" >Cancel</span>
  </div>

</div>


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div id="main" class="container pl-xl-4 pr-xl-4">
        





<div class="row">

  <!-- core -->
  <div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4">
    <div class="post pl-1 pr-1 pl-md-2 pr-md-2">

    

    
      
      
        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->


<!-- images -->




  
  

  <!-- CDN URL -->
  

  <!-- Add image path -->
  

  
    
      
      
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      

    
      

      
      
      

      

    
      

      
      
      

      

    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    <!-- make sure the `<img>` is wrapped by `<a>` -->
    

    
      <!-- create the image wrapper -->
      
    

    <!-- combine -->
    

  

  



<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  

  
  

  

  
  

  




<!-- return -->

<h1 data-toc-skip>퀴즈 사이트 만들기_3 (next.js)</h1>

<div class="post-meta text-muted">
  <!-- published date -->
  <span>
    Posted <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class=""
    data-ts="1690943580"
    data-df="ll"
    data-toggle="tooltip" data-placement="bottom">
  Aug  2, 2023
</em>

  </span>

  <!-- lastmod date -->
   

  <div class="d-flex justify-content-between">
    <!-- author(s) -->
    <span>
       By

      <em>
         
        <a href="https://github.com/1221jyp"
          >박지율</a
        >
          
      </em>
    </span>

    <div>
      <!-- page views -->
      

      <!-- read time -->
      <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->



<!-- words per minute  -->










<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom"
  title="5122 words">
  <em>28 min</em> read</span>

    </div>
  </div>
  <!-- .d-flex -->
</div>
<!-- .post-meta -->

<div class="post-content"><h1 id="시작하며">시작하며</h1>

<hr />

<p>지난 포스팅에서는 퀴즈 만들기 페이지와, API까지 완성시켰다. 이번 포스팅에서는
퀴즈 풀기 기능을 완성시켜볼 예정이다.</p>

<h1 id="퀴즈-풀기-페이지-구성하기">퀴즈 풀기 페이지 구성하기</h1>

<hr />

<h2 id="페이지-구성"><span class="mr-2">페이지 구성</span><a href="#페이지-구성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>가장 먼저 퀴즈 풀기 버튼을 누르면, 문제의 카테고리를 선택할 수 있는 창을 만들어주겠습니다.
아직 한국사 문제밖에 없지만, 새로운 카테고리가 생길수도 있기때문에 만들어놓겠습니다.</p>

<div class="language-jsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Jsx"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="c1">//src/app/quiz/page.js</span>

<span class="k">import</span> <span class="dl">"</span><span class="s2">./style.css</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">Quiz</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"container"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="p">=</span><span class="si">{</span><span class="dl">"</span><span class="s2">/quiz_h</span><span class="dl">"</span><span class="si">}</span> <span class="na">className</span><span class="p">=</span><span class="s">"button"</span><span class="p">&gt;</span>
        한국사 문제풀기
      <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<div class="language-css highlighter-rouge"><div class="code-header">
        <span data-label-text="CSS"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="c">/* src/app/quiz/style.css */</span>

<span class="nc">.container</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">justify-content</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">100vh</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.button</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">10px</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#ccc</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">4px</span><span class="p">;</span>
  <span class="nl">text-decoration</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="m">#333</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">16px</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>그러고 나서 이제 이 프로젝트의 핵심 페이지인 퀴즈 풀기 기능을 만들어 보겠습니다.
<br />
<br />
<br /></p>

<div class="language-jsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Jsx"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre></td><td class="rouge-code"><pre><span class="c1">//src/app/quiz_h/page.js</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nf">Quiz_h</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">connectDB</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nf">db</span><span class="p">(</span><span class="dl">"</span><span class="s2">Quiz_Data</span><span class="dl">"</span><span class="p">);</span> <span class="c1">//mongodb 불러오기</span>
  <span class="kd">let</span> <span class="nx">NumberOfQuestion</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">db</span><span class="p">.</span><span class="nf">collection</span><span class="p">(</span><span class="dl">"</span><span class="s2">Quiz</span><span class="dl">"</span><span class="p">).</span><span class="nf">count</span><span class="p">();</span> <span class="c1">//Quiz collection 안에 있는 데이터의 개수 불러오기</span>
  <span class="kd">let</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">db</span><span class="p">.</span><span class="nf">collection</span><span class="p">(</span><span class="dl">"</span><span class="s2">Quiz</span><span class="dl">"</span><span class="p">).</span><span class="nf">find</span><span class="p">().</span><span class="nf">toArray</span><span class="p">();</span> <span class="c1">//Quiz collection 안에 있는 모든 데이터 불러오기</span>

  <span class="c1">//_id를 문자열로 변환</span>
  <span class="nx">result</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nf">map</span><span class="p">((</span><span class="nx">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">a</span><span class="p">.</span><span class="nx">_id</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">_id</span><span class="p">.</span><span class="nf">toString</span><span class="p">();</span>
    <span class="k">return</span> <span class="nx">a</span><span class="p">;</span>
  <span class="p">});</span>

  <span class="c1">//DB에 저장되어있는 문제 개수만큼 숫자 생성</span>
  <span class="kd">const</span> <span class="nx">numbers</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">NumberOfQuestion</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">numbers</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">//숫자 중 랜덤한 20개의 숫자 추출</span>
  <span class="kd">const</span> <span class="nx">answer</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">n</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">;</span> <span class="nx">n</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">index</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
    <span class="nx">answer</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="nx">numbers</span><span class="p">[</span><span class="nx">index</span><span class="p">]);</span>
    <span class="nx">numbers</span><span class="p">.</span><span class="nf">splice</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">{</span><span class="cm">/*20개의 랜덤 숫자와 DB자료 client 컴포넌트에 전송*/</span><span class="p">}</span>
    <span class="p">&lt;&gt;</span>
      <span class="p">&lt;</span><span class="nc">Util</span> <span class="na">answer</span><span class="p">=</span><span class="si">{</span><span class="nx">answer</span><span class="si">}</span> <span class="na">result</span><span class="p">=</span><span class="si">{</span><span class="nx">result</span><span class="si">}</span><span class="p">&gt;&lt;/</span><span class="nc">Util</span><span class="p">&gt;</span>
    <span class="p">&lt;/&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<div class="language-jsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Jsx"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
</pre></td><td class="rouge-code"><pre><span class="c1">//src/app/quiz_h/util.js</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nf">Util</span><span class="p">({</span> <span class="nx">result</span><span class="p">,</span> <span class="nx">answer</span> <span class="p">})</span> <span class="p">{</span>
  <span class="c1">//체크박스 하나만 체크되게 하기</span>
  <span class="kd">const</span> <span class="nx">onlyone</span> <span class="o">=</span> <span class="p">(</span><span class="nx">checkThis</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">checkboxes</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementsByClassName</span><span class="p">(</span><span class="dl">"</span><span class="s2">q</span><span class="dl">"</span><span class="p">);</span>
    <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">checkboxes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if </span><span class="p">(</span><span class="nx">checkboxes</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">!==</span> <span class="nx">checkThis</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">checkboxes</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">checked</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="nf">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// 변수/상수 선언</span>
    <span class="kd">const</span> <span class="nx">outer</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">.outer</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">innerList</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">.inner-list</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">inners</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelectorAll</span><span class="p">(</span><span class="dl">"</span><span class="s2">.inner</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">loading</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">load</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">buttonRight</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">.button-right</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">showScore</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#score</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">showResult</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">.black-bg</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">submitButton</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">.submitButton</span><span class="dl">"</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">score</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">IsitCorrect</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="p">();</span>

    <span class="c1">//다음문제 버튼을 클릭하였을시 실행되는 함수</span>
    <span class="nx">buttonRight</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">parentComponent</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="nx">count</span><span class="p">);</span>
      <span class="kd">const</span> <span class="nx">countCheckbox</span> <span class="o">=</span> <span class="nx">parentComponent</span><span class="p">.</span><span class="nf">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">input[type="checkbox"]</span><span class="dl">'</span><span class="p">);</span>

      <span class="kd">let</span> <span class="nx">isChecked</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

      <span class="c1">// 모든 체크박스를 반복하며 체크 상태를 확인합니다.</span>
      <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">countCheckbox</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if </span><span class="p">(</span><span class="nx">countCheckbox</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">checked</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">isChecked</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
          <span class="k">break</span><span class="p">;</span> <span class="c1">// 하나라도 체크되어 있으면 루프를 종료합니다.</span>
        <span class="p">}</span>
      <span class="p">}</span>

      <span class="c1">//하나도 체크되어 있지 않다면</span>
      <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nx">isChecked</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">체크박스를 체크하여 정답을 선택하세요!</span><span class="dl">"</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="c1">//그렇지 않으면</span>
      <span class="k">else</span> <span class="p">{</span>
        <span class="c1">//다음 문제로 넘기기</span>
        <span class="nx">currentIndex</span><span class="o">++</span><span class="p">;</span>
        <span class="nx">currentIndex</span> <span class="o">=</span> <span class="nx">currentIndex</span> <span class="o">&gt;=</span> <span class="nx">inners</span><span class="p">.</span><span class="nx">length</span> <span class="p">?</span> <span class="nx">inners</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">:</span> <span class="nx">currentIndex</span><span class="p">;</span>
        <span class="nx">innerList</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">marginLeft</span> <span class="o">=</span> <span class="s2">`-</span><span class="p">${</span><span class="nx">outer</span><span class="p">.</span><span class="nx">clientWidth</span> <span class="o">*</span> <span class="nx">currentIndex</span><span class="p">}</span><span class="s2">px`</span><span class="p">;</span>

        <span class="c1">//체크된 체크박스값 보기</span>
        <span class="kd">const</span> <span class="nx">checkboxes</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">input[type="checkbox"]:checked</span><span class="dl">'</span><span class="p">);</span>
        <span class="kd">const</span> <span class="nx">checkedValues</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">checkboxes</span><span class="p">).</span><span class="nf">map</span><span class="p">((</span><span class="nx">checkbox</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">checkbox</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>

        <span class="c1">//19번째 문제에 도달했을때, 20번째 문제의 버튼은 '제출'로 보이게 하기</span>
        <span class="k">if </span><span class="p">(</span><span class="nx">count</span> <span class="o">&gt;=</span> <span class="mi">18</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">buttonRight</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">제출</span><span class="dl">"</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">//마지막 문제까지 제출하면, 결과 보여주기</span>
        <span class="k">if </span><span class="p">(</span><span class="nx">count</span> <span class="o">==</span> <span class="mi">19</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">showResult</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="dl">"</span><span class="s2">show-modal</span><span class="dl">"</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">//체크박스에 입력한 문제가 정답이라면 answer에 1을 넣고, 스코어 추가</span>
        <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">checkedValues</span> <span class="o">==</span> <span class="nx">result</span><span class="p">[</span><span class="nx">answer</span><span class="p">[</span><span class="nx">count</span><span class="p">]].</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">IsitCorrect</span><span class="p">[</span><span class="dl">"</span><span class="s2">answer</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">count</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
          <span class="nx">score</span><span class="o">++</span><span class="p">;</span>
          <span class="nx">showScore</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">score</span> <span class="o">*</span> <span class="mi">5</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">//오답시 answer에 0을 넣기</span>
        <span class="k">else</span> <span class="p">{</span>
          <span class="nx">IsitCorrect</span><span class="p">[</span><span class="dl">"</span><span class="s2">answer</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">count</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">//카운트 추가</span>
        <span class="nx">count</span><span class="o">++</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">});</span>
    <span class="c1">//마지막 제출버튼 눌렀을때 api/result로 POST 요청 (fetchAPI)</span>
    <span class="nx">submitButton</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="k">async </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">IsitCorrect</span><span class="p">);</span>
      <span class="nx">IsitCorrect</span><span class="p">[</span><span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="nx">score</span> <span class="o">*</span> <span class="mi">5</span><span class="p">;</span>
      <span class="k">await</span> <span class="nf">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">/api/result</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">stringify</span><span class="p">(</span><span class="nx">IsitCorrect</span><span class="p">),</span>
      <span class="p">}).</span><span class="nf">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">success</span><span class="dl">"</span><span class="p">);</span>
        <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">제출완료</span><span class="dl">"</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span>

    <span class="c1">//문제 개수만큼 div박스 늘리기</span>
    <span class="kd">let</span> <span class="nx">currentIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">if </span><span class="p">(</span><span class="nx">outer</span> <span class="o">&amp;&amp;</span> <span class="nx">innerList</span> <span class="o">&amp;&amp;</span> <span class="nx">inners</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">inners</span><span class="p">.</span><span class="nf">forEach</span><span class="p">((</span><span class="nx">inner</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">inner</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">outer</span><span class="p">.</span><span class="nx">clientWidth</span><span class="p">}</span><span class="s2">px`</span><span class="p">;</span>
      <span class="p">});</span>

      <span class="nx">innerList</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">outer</span><span class="p">.</span><span class="nx">clientWidth</span> <span class="o">*</span> <span class="nx">inners</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span><span class="s2">px`</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">//로딩이 완료되면 로딩창 숨기기</span>
    <span class="kd">const</span> <span class="nx">onPageLoad</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">loading</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">none</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">};</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
      <span class="k">if </span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">complete</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">onPageLoad</span><span class="p">();</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nb">window</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">load</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onPageLoad</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
        <span class="c1">// Remove the event listener when component unmounts</span>
        <span class="k">return </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">window</span><span class="p">.</span><span class="nf">removeEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">load</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onPageLoad</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">};</span>
  <span class="p">},</span> <span class="p">[]);</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="p">=</span><span class="s">"load"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">LoadingPage</span><span class="p">&gt;&lt;/</span><span class="nc">LoadingPage</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"black-bg"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"white-bg"</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"my-score"</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>당신의 점수는<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">id</span><span class="p">=</span><span class="s">"score"</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>점 입니다.<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">className</span><span class="p">=</span><span class="s">"submitButton btn "</span><span class="p">&gt;</span>결과 제출하기<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="p">=</span><span class="s">"/"</span> <span class="na">className</span><span class="p">=</span><span class="s">"submitButton btn "</span><span class="p">&gt;</span>
              돌아가기
            <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"outer"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"inner-list"</span><span class="p">&gt;</span>
          <span class="si">{</span><span class="nx">answer</span><span class="p">.</span><span class="nf">map</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">a</span><span class="si">}</span> <span class="na">id</span><span class="p">=</span><span class="si">{</span><span class="nx">i</span><span class="si">}</span><span class="p">&gt;</span>
              <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"inner"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">className</span><span class="p">=</span><span class="s">"question"</span><span class="p">&gt;</span>
                  <span class="si">{</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span>번문제) <span class="si">{</span><span class="nx">result</span><span class="p">[</span><span class="nx">a</span><span class="p">].</span><span class="nx">q</span><span class="si">}</span>
                <span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"contentbox"</span><span class="p">&gt;</span>
                  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"content"</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">result</span><span class="p">[</span><span class="nx">a</span><span class="p">].</span><span class="nx">c1</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                  <span class="p">&lt;</span><span class="nt">input</span>
                    <span class="na">type</span><span class="p">=</span><span class="s">"checkbox"</span>
                    <span class="na">value</span><span class="p">=</span><span class="si">{</span><span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="si">}</span>
                    <span class="na">className</span><span class="p">=</span><span class="s">"q"</span>
                    <span class="na">name</span><span class="p">=</span><span class="si">{</span><span class="nx">i</span><span class="si">}</span>
                    <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nf">onlyone</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">)</span><span class="si">}</span>
                  <span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"contentbox"</span><span class="p">&gt;</span>
                  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"content"</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">result</span><span class="p">[</span><span class="nx">a</span><span class="p">].</span><span class="nx">c2</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                  <span class="p">&lt;</span><span class="nt">input</span>
                    <span class="na">type</span><span class="p">=</span><span class="s">"checkbox"</span>
                    <span class="na">value</span><span class="p">=</span><span class="si">{</span><span class="dl">"</span><span class="s2">2</span><span class="dl">"</span><span class="si">}</span>
                    <span class="na">className</span><span class="p">=</span><span class="s">"q"</span>
                    <span class="na">name</span><span class="p">=</span><span class="si">{</span><span class="nx">i</span><span class="si">}</span>
                    <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nf">onlyone</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">)</span><span class="si">}</span>
                  <span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"contentbox"</span><span class="p">&gt;</span>
                  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"content"</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">result</span><span class="p">[</span><span class="nx">a</span><span class="p">].</span><span class="nx">c3</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                  <span class="p">&lt;</span><span class="nt">input</span>
                    <span class="na">type</span><span class="p">=</span><span class="s">"checkbox"</span>
                    <span class="na">value</span><span class="p">=</span><span class="si">{</span><span class="dl">"</span><span class="s2">3</span><span class="dl">"</span><span class="si">}</span>
                    <span class="na">className</span><span class="p">=</span><span class="s">"q"</span>
                    <span class="na">name</span><span class="p">=</span><span class="si">{</span><span class="nx">i</span><span class="si">}</span>
                    <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nf">onlyone</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">)</span><span class="si">}</span>
                  <span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"contentbox"</span><span class="p">&gt;</span>
                  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"content"</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">result</span><span class="p">[</span><span class="nx">a</span><span class="p">].</span><span class="nx">c4</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                  <span class="p">&lt;</span><span class="nt">input</span>
                    <span class="na">type</span><span class="p">=</span><span class="s">"checkbox"</span>
                    <span class="na">value</span><span class="p">=</span><span class="si">{</span><span class="dl">"</span><span class="s2">4</span><span class="dl">"</span><span class="si">}</span>
                    <span class="na">className</span><span class="p">=</span><span class="s">"q"</span>
                    <span class="na">name</span><span class="p">=</span><span class="si">{</span><span class="nx">i</span><span class="si">}</span>
                    <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nf">onlyone</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">)</span><span class="si">}</span>
                  <span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"contentbox"</span><span class="p">&gt;</span>
                  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"content"</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">result</span><span class="p">[</span><span class="nx">a</span><span class="p">].</span><span class="nx">c5</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                  <span class="p">&lt;</span><span class="nt">input</span>
                    <span class="na">type</span><span class="p">=</span><span class="s">"checkbox"</span>
                    <span class="na">value</span><span class="p">=</span><span class="si">{</span><span class="dl">"</span><span class="s2">5</span><span class="dl">"</span><span class="si">}</span>
                    <span class="na">className</span><span class="p">=</span><span class="s">"q"</span>
                    <span class="na">name</span><span class="p">=</span><span class="si">{</span><span class="nx">i</span><span class="si">}</span>
                    <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nf">onlyone</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">)</span><span class="si">}</span>
                  <span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
              <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
          <span class="p">))</span><span class="si">}</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"button-list"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">className</span><span class="p">=</span><span class="s">"button-right btn"</span><span class="p">&gt;</span>다음문제<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<div class="language-css highlighter-rouge"><div class="code-header">
        <span data-label-text="CSS"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
</pre></td><td class="rouge-code"><pre><span class="c">/* src/app/quiz_h/style.css */</span>

<span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="s1">"checkbox"</span><span class="o">]</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">1rem</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">1rem</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#999</span><span class="p">;</span>
  <span class="nl">appearance</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">background</span> <span class="m">0.2s</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="py">scale</span><span class="p">:</span> <span class="m">1.5</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="s1">"checkbox"</span><span class="o">]</span><span class="nd">:checked</span> <span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#32e732</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">button</span> <span class="p">{</span>
  <span class="nl">border</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="nb">transparent</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>
  <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span>
  <span class="nl">text-decoration</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="nb">inherit</span><span class="p">;</span>
  <span class="nl">font-family</span><span class="p">:</span> <span class="nb">inherit</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="nb">inherit</span><span class="p">;</span>
  <span class="nl">outline</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.btn</span> <span class="p">{</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#3498db</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">5px</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">10px</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">background-color</span> <span class="m">0.3s</span><span class="p">,</span> <span class="n">color</span> <span class="m">0.3s</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
  <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.btn</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#2980b9</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#load</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">fixed</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
  <span class="nl">z-index</span><span class="p">:</span> <span class="m">99</span><span class="p">;</span>
  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.black-bg</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">fixed</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0.5</span><span class="p">);</span>
  <span class="nl">z-index</span><span class="p">:</span> <span class="m">5</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.show-modal</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.white-bg</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">800px</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">500px</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.my-score</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span>
  <span class="nl">justify-content</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">flex-wrap</span><span class="p">:</span> <span class="n">wrap</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.submitButton</span> <span class="p">{</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">50px</span><span class="p">;</span>
  <span class="nl">margin-left</span><span class="p">:</span> <span class="m">300px</span><span class="p">;</span>
  <span class="nl">margin-right</span><span class="p">:</span> <span class="m">300px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.outer</span> <span class="p">{</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="no">black</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">1400px</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">600px</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="nb">auto</span><span class="p">;</span>
  <span class="nl">overflow-x</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.inner-list</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.inner</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">flex-direction</span><span class="p">:</span> <span class="n">column</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.question</span> <span class="p">{</span>
  <span class="nl">margin-left</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.contentbox</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">margin-left</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.content</span> <span class="p">{</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">400px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.button-list</span> <span class="p">{</span>
  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">justify-content</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>제가 이런걸 처음 만들어봐서 코드가 조잡할 수 있습니다. 언제든지 수정할만한 사항이 있으면 댓글 남겨주세요.</p>

<p>제작하는데 생각보다 오래 걸려 과정은 생략하게 되었습니다. 서버 컴포넌트에서 랜덤한 숫자 20개와 DB의 데이터를<br />
 가져오고, 이를 바탕으로 클라이언트 컴포넌트에서 주로 제작하였습니다. 20개의 퀴즈를 다 풀면 결과와 함께 제출버튼이<br />
 나오게 됩니다.</p>

<h2 id="api-만들기"><span class="mr-2">API 만들기</span><a href="#api-만들기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>제출 버튼을 누르면 점수가 DB에 등록되게 API를 만들어 봅시다.</p>

<div class="language-js highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="c1">//src/pages/api/result.js</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">connectDB</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">/Users/jyp/Documents/GitHub/quiz_project/src/util/db.js</span><span class="dl">"</span><span class="p">;</span>
<span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nf">handler</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="nx">connectDB</span><span class="p">).</span><span class="nf">db</span><span class="p">(</span><span class="dl">"</span><span class="s2">Score</span><span class="dl">"</span><span class="p">);</span>
    <span class="nx">db</span><span class="p">.</span><span class="nf">collection</span><span class="p">(</span><span class="dl">"</span><span class="s2">userscore</span><span class="dl">"</span><span class="p">).</span><span class="nf">insertOne</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
    <span class="c1">//작업이 끝나면 메인 페이지로 이동</span>
    <span class="nx">res</span><span class="p">.</span><span class="nf">redirect</span><span class="p">(</span><span class="mi">302</span><span class="p">,</span> <span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">);</span>
    <span class="c1">//오류발생시 실행될 함수</span>
  <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nf">status</span><span class="p">(</span><span class="mi">500</span><span class="p">).</span><span class="nf">json</span><span class="p">(</span><span class="dl">"</span><span class="s2">서버 오류</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>퀴즈를 푸는 페이지를 완성하고 API 까지 제작해보았습니다.
마지막 제출버튼을 누르면 바로 메인페이지로 이동시키고싶었는데, fetch api로는 불가능하다고 하네요.</p>

<h1 id="로그인-기능-만들기">로그인 기능 만들기</h1>

<p>일단은 이렇게 끝마치고 마지막 기능인 로그인기능과 순위판을 제작해보도록 하겠습니다. 순위판에는 이름이 적혀있어야 하니
이름을 넣기 위해 먼저 로그인 기능부터 구현하겠습니다.</p>

<h2 id="nextauth-설치"><span class="mr-2">nextauth 설치</span><a href="#nextauth-설치" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>로그인기능은 next.js의 nextauth라는 라이브러리를 사용하여
간단하게 소셜로그인을 구현해보겠습니다.</p>

<p>저는 github로그인과 구글로그인을 할수 있게 만들어보겠습니다. 우선 터미널에서 nextauth부터 설치하겠습니다.</p>

<div class="language-terminal highlighter-rouge"><div class="code-header">
        <span data-label-text="Terminal"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="go">npm install next-auth
</span></pre></td></tr></tbody></table></code></div></div>

<p>nextauth를 설치한 뒤에 github와 구글에 들어가서 소셜로그인 세팅을 해보겠습니다.</p>

<h2 id="github-소셜로그인-세팅"><span class="mr-2">github 소셜로그인 세팅</span><a href="#github-소셜로그인-세팅" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>우선 먼저 <a href="https://github.com">github</a>부터 해보겠습니다.
<a href="https://github.com/1221jyp/Quiz_project/assets/98996860/f58d79e1-b023-4a50-9fee-463995d8af6e" class="popup img-link "><img data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/f58d79e1-b023-4a50-9fee-463995d8af6e" alt="quiz_project_3-1" class="lazyload" data-proofer-ignore></a>
<a href="https://github.com/1221jyp/Quiz_project/assets/98996860/93dd8872-7caf-4454-8fb8-0f109a2054a3" class="popup img-link "><img data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/93dd8872-7caf-4454-8fb8-0f109a2054a3" alt="quiz_project_3-2" class="lazyload" data-proofer-ignore></a>
<a href="https://github.com/1221jyp/Quiz_project/assets/98996860/39d19f0b-db4d-4b2d-864a-f52a2546b946" class="popup img-link "><img data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/39d19f0b-db4d-4b2d-864a-f52a2546b946" alt="quiz_project_3-3" class="lazyload" data-proofer-ignore></a></p>

<p>저는 이미 하나 있지만 새로 만들겠습니다.</p>

<p><a href="https://github.com/1221jyp/Quiz_project/assets/98996860/23783f0e-2a34-400c-9cba-8bb0f378fa59" class="popup img-link "><img data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/23783f0e-2a34-400c-9cba-8bb0f378fa59" alt="quiz_project_3-4" class="lazyload" data-proofer-ignore></a></p>

<p>지금은 localhost로 해놓았지만, aws같은곳에 올릴거면 주소를 바꿔줘야 합니다.</p>

<p><a href="https://github.com/1221jyp/Quiz_project/assets/98996860/a9f796ea-c98b-4257-bce2-f981fe059f59" class="popup img-link "><img data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/a9f796ea-c98b-4257-bce2-f981fe059f59" alt="quiz_project_3-5" class="lazyload" data-proofer-ignore></a></p>

<p>사진의 과정을 따라오면, 끝이 납니다. Key를 생성해주고, client id와 key를 .env같은 소중한곳에 잘 숨겨줍시다.</p>

<p>다시 돌아와서 새로운 폴더를 만들어줍니다. src/pages/api/ 주소에 auth 폴더를 생성하고 그 안에 […nextauth].js 파일을 새로 생성해줍시다.</p>

<div class="language-js highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="c1">//scr/pages/api/auth/[...nextauth].js</span>

<span class="k">import</span> <span class="nx">NextAuth</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next-auth</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">GithubProvider</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next-auth/providers/github</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">GoogleProvider</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next-auth/providers/google</span><span class="dl">"</span><span class="p">;</span>
<span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">dotenv</span><span class="dl">"</span><span class="p">).</span><span class="nf">config</span><span class="p">();</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">authOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">providers</span><span class="p">:</span> <span class="p">[</span>
    <span class="nc">GithubProvider</span><span class="p">({</span>
      <span class="na">clientId</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">githubOAuthID</span><span class="p">,</span>
      <span class="na">clientSecret</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">githubOAuthKey</span><span class="p">,</span>
    <span class="p">}),</span>
    <span class="nc">GoogleProvider</span><span class="p">({</span>
      <span class="na">clientId</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">googleOAuthID</span><span class="p">,</span>
      <span class="na">clientSecret</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">googleOAuthKey</span><span class="p">,</span>
    <span class="p">}),</span>
  <span class="p">],</span>
  <span class="na">secret</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">JWTpassword</span><span class="p">,</span>
<span class="p">};</span>
<span class="k">export</span> <span class="k">default</span> <span class="nc">NextAuth</span><span class="p">(</span><span class="nx">authOptions</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div></div>

<p>github 로그인 구현은 완료되었습니다.</p>

<h2 id="구글-소셜로그인-세팅"><span class="mr-2">구글 소셜로그인 세팅</span><a href="#구글-소셜로그인-세팅" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>이제 구글의 provider를 가져와보겠습니다.
가장 먼저 <a href="https://console.cloud.google.com/projectselector2/home/dashboard?hl=ko&amp;supportedpurview=project">구글 클라우드 플랫폼</a>에 들어가줍니다.
<a href="https://github.com/1221jyp/Quiz_project/assets/98996860/2d3e7636-1281-43b6-b024-0c0b528754fb" class="popup img-link "><img data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/2d3e7636-1281-43b6-b024-0c0b528754fb" alt="quiz_project_3-6" class="lazyload" data-proofer-ignore></a>
<a href="https://github.com/1221jyp/Quiz_project/assets/98996860/0ef6a2e9-f7ce-479a-8272-21272709dea6" class="popup img-link "><img data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/0ef6a2e9-f7ce-479a-8272-21272709dea6" alt="quiz_project_3-7" class="lazyload" data-proofer-ignore></a>
<a href="https://github.com/1221jyp/Quiz_project/assets/98996860/c9c8fab7-8853-432c-9812-54c280a4d4bf" class="popup img-link "><img data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/c9c8fab7-8853-432c-9812-54c280a4d4bf" alt="quiz_project_3-8" class="lazyload" data-proofer-ignore></a>
<a href="https://github.com/1221jyp/Quiz_project/assets/98996860/9f1912d9-6141-4da1-a6cf-f15de49de424" class="popup img-link "><img data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/9f1912d9-6141-4da1-a6cf-f15de49de424" alt="quiz_project_3-9" class="lazyload" data-proofer-ignore></a>
<a href="https://github.com/1221jyp/Quiz_project/assets/98996860/c9f31ae8-161b-46c5-9d78-4f0285c8b3a1" class="popup img-link "><img data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/c9f31ae8-161b-46c5-9d78-4f0285c8b3a1" alt="quiz_project_3-10" class="lazyload" data-proofer-ignore></a>
<a href="https://github.com/1221jyp/Quiz_project/assets/98996860/58295522-9d42-42dd-94ef-dd20b53651fb" class="popup img-link "><img data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/58295522-9d42-42dd-94ef-dd20b53651fb" alt="quiz_project_3-11" class="lazyload" data-proofer-ignore></a></p>

<p>여기까지 하고 뒤에 있는 두개의 챕터는 그냥 다음 버튼 누르면서 건너뛰기 해줍니다.</p>

<p><a href="https://github.com/1221jyp/Quiz_project/assets/98996860/38c6b451-96bc-4e5b-88cc-a22b689ca543" class="popup img-link "><img data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/38c6b451-96bc-4e5b-88cc-a22b689ca543" alt="quiz_project_3-12" class="lazyload" data-proofer-ignore></a>
<a href="https://github.com/1221jyp/Quiz_project/assets/98996860/3f578b06-6ec7-45fb-86ef-9a1df0204126" class="popup img-link "><img data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/3f578b06-6ec7-45fb-86ef-9a1df0204126" alt="quiz_project_3-13" class="lazyload" data-proofer-ignore></a>
<a href="https://github.com/1221jyp/Quiz_project/assets/98996860/55bdecfe-ba15-47dc-b184-54cfab21659f" class="popup img-link "><img data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/55bdecfe-ba15-47dc-b184-54cfab21659f" alt="quiz_project_3-14" class="lazyload" data-proofer-ignore></a></p>

<p>구글 OAuth ID와 키도 받아내었습니다. 이제 홈페이지에서 정상적으로 작동되는지 테스트해보겠습니다.</p>

<p><a href="https://github.com/1221jyp/Quiz_project/assets/98996860/80c6acbf-c966-4efd-947c-b3f0d35abc52" class="popup img-link "><img data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/80c6acbf-c966-4efd-947c-b3f0d35abc52" alt="quiz_project_3-15" class="lazyload" data-proofer-ignore></a></p>

<p>github와 google로그인 모두 오류를 뱉었습니다. 사이트의 url을 적을때 <code class="language-plaintext highlighter-rouge">http://localhost:3000</code> 이라고 적어야하는데 <code class="language-plaintext highlighter-rouge">https://localhost:3000</code>이라고
입력해버려 오류가 났습니다.</p>

<p><a href="https://github.com/1221jyp/Quiz_project/assets/98996860/ea237ae2-56ce-41a9-9244-a96fa1d4c167" class="popup img-link "><img width="1582" alt="quiz_project_3-16" data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/ea237ae2-56ce-41a9-9244-a96fa1d4c167" class="lazyload" data-proofer-ignore></a></p>

<p>구글 로그인의 경우에는 한가지 문제가 더 있었는데, redirect uri를 잘못 적었습니다. <code class="language-plaintext highlighter-rouge">http://localhost:3000</code>이라고 적는것이 아니라,
<code class="language-plaintext highlighter-rouge">http://localhost:3000/api/auth/callback/google</code>이라고 적어야 합니다.</p>

<p>이 두개의 문제를 해결하고 나니 두 로그인 방식 모두 성공적으로 끝마쳤습니다.</p>

<h1 id="로그인기능-이용하기">로그인기능 이용하기</h1>

<h2 id="레이아웃-변경"><span class="mr-2">레이아웃 변경</span><a href="#레이아웃-변경" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>이제 로그아웃 버튼도 추가하고, 로그인 기능을 이용해서 글 작성과 퀴즈 풀기를 로그인을 마쳐야 풀 수 있게 해보겠습니다.</p>

<div class="language-jsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Jsx"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="c1">//src/app/logoutbtn.js</span>

<span class="dl">"</span><span class="s2">use client</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">"</span><span class="s2">./globals.css</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">signOut</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next-auth/react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">LogoutBtn</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">button</span>
      <span class="na">className</span><span class="p">=</span><span class="s">"login_btn"</span>
      <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nf">signOut</span><span class="p">();</span>
      <span class="p">}</span><span class="si">}</span>
    <span class="p">&gt;</span>
      로그아웃
    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>로그아웃 버튼 컴포넌트입니다.</p>

<div class="language-jsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Jsx"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre></td><td class="rouge-code"><pre><span class="c1">//src/app/layout.js</span>

<span class="k">import</span> <span class="nx">Link</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/link</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">"</span><span class="s2">./globals.css</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Inter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/font/google</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">LoginBtn</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./loginbtn</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">LogoutBtn</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./logoutbtn</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">getServerSession</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next-auth</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">authOptions</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/pages/api/auth/[...nextauth]</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">inter</span> <span class="o">=</span> <span class="nc">Inter</span><span class="p">({</span> <span class="na">subsets</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">latin</span><span class="dl">"</span><span class="p">]</span> <span class="p">});</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">metadata</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">title</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Quiz time!</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">description</span><span class="p">:</span> <span class="dl">"</span><span class="s2">my quiz project</span><span class="dl">"</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nf">RootLayout</span><span class="p">({</span> <span class="nx">children</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">session</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">getServerSession</span><span class="p">(</span><span class="nx">authOptions</span><span class="p">);</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="p">=</span><span class="s">"en"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">body</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="nx">inter</span><span class="p">.</span><span class="nx">className</span><span class="si">}</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"header"</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">href</span><span class="p">=</span><span class="s">"/"</span> <span class="na">className</span><span class="p">=</span><span class="s">"title"</span><span class="p">&gt;</span>
            Quiz time!
          <span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">href</span><span class="p">=</span><span class="s">"/newquiz"</span> <span class="na">className</span><span class="p">=</span><span class="s">"nav_btn"</span><span class="p">&gt;</span>
            퀴즈 만들기
          <span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">href</span><span class="p">=</span><span class="s">"/quiz"</span> <span class="na">className</span><span class="p">=</span><span class="s">"nav_btn"</span><span class="p">&gt;</span>
            퀴즈 풀기
          <span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
          <span class="si">{</span><span class="nx">session</span> <span class="p">?</span> <span class="p">(</span>
            <span class="p">&lt;&gt;</span>
              <span class="p">&lt;</span><span class="nc">LogoutBtn</span><span class="p">&gt;&lt;/</span><span class="nc">LogoutBtn</span><span class="p">&gt;</span>
              <span class="p">&lt;</span><span class="nt">h2</span> <span class="na">className</span><span class="p">=</span><span class="s">"UserName"</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">session</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span>님, 환영합니다!<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
            <span class="p">&lt;/&gt;</span>
          <span class="p">)</span> <span class="p">:</span> <span class="p">(</span>
            <span class="p">&lt;</span><span class="nc">LoginBtn</span><span class="p">&gt;&lt;/</span><span class="nc">LoginBtn</span><span class="p">&gt;</span>
          <span class="p">)</span><span class="si">}</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="si">{</span><span class="nx">children</span><span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>수정된 레이아웃입니다. 로그인 상태면 로그아웃 버튼이 보이고, 로그아웃 상태면 로그인 버튼이 보입니다.</p>

<h2 id="dbadapter-설치"><span class="mr-2">DBadapter 설치</span><a href="#dbadapter-설치" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>그러고 나서 DBadapter를 설치해줍니다. 유저의 로그인 정보를 DB에 저장하기 위해 사용합니다.</p>

<div class="language-terminal highlighter-rouge"><div class="code-header">
        <span data-label-text="Terminal"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="go">npm install @next-auth/mongodb-adapter
</span></pre></td></tr></tbody></table></code></div></div>

<div class="language-js highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="k">import</span> <span class="nx">NextAuth</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next-auth</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">GithubProvider</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next-auth/providers/github</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">GoogleProvider</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next-auth/providers/google</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">MongoDBAdapter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@next-auth/mongodb-adapter</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">connectDB</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/util/db</span><span class="dl">"</span><span class="p">;</span>
<span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">dotenv</span><span class="dl">"</span><span class="p">).</span><span class="nf">config</span><span class="p">();</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">authOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">providers</span><span class="p">:</span> <span class="p">[</span>
    <span class="nc">GithubProvider</span><span class="p">({</span>
      <span class="na">clientId</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">githubOAuthID</span><span class="p">,</span>
      <span class="na">clientSecret</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">githubOAuthKey</span><span class="p">,</span>
    <span class="p">}),</span>
    <span class="nc">GoogleProvider</span><span class="p">({</span>
      <span class="na">clientId</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">googleOAuthID</span><span class="p">,</span>
      <span class="na">clientSecret</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">googleOAuthKey</span><span class="p">,</span>
    <span class="p">}),</span>
  <span class="p">],</span>
  <span class="na">secret</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">JWTpassword</span><span class="p">,</span>
  <span class="na">adapter</span><span class="p">:</span> <span class="nc">MongoDBAdapter</span><span class="p">(</span><span class="nx">connectDB</span><span class="p">),</span>
<span class="p">};</span>
<span class="k">export</span> <span class="k">default</span> <span class="nc">NextAuth</span><span class="p">(</span><span class="nx">authOptions</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게 코드를 짜놓으면 로그인시 DB에 회원정보와 로그인 데이터가 남습니다.</p>

<h2 id="로그아웃-상태일때-로그인시키기"><span class="mr-2">로그아웃 상태일때, 로그인시키기</span><a href="#로그아웃-상태일때-로그인시키기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<div class="language-jsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Jsx"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre></td><td class="rouge-code"><pre><span class="c1">//src/app/quiz_h/page.js</span>
<span class="k">import</span> <span class="nx">Util</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./util</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">connectDB</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">/Users/jyp/Documents/GitHub/quiz_project/src/util/db.js</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">getServerSession</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next-auth</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">authOptions</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/pages/api/auth/[...nextauth]</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nf">Quiz_h</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">connectDB</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nf">db</span><span class="p">(</span><span class="dl">"</span><span class="s2">Quiz_Data</span><span class="dl">"</span><span class="p">);</span> <span class="c1">//mongodb 불러오기</span>
  <span class="kd">let</span> <span class="nx">NumberOfQuestion</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">db</span><span class="p">.</span><span class="nf">collection</span><span class="p">(</span><span class="dl">"</span><span class="s2">Quiz</span><span class="dl">"</span><span class="p">).</span><span class="nf">count</span><span class="p">();</span> <span class="c1">//Quiz collection 안에 있는 데이터의 개수 불러오기</span>
  <span class="kd">let</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">db</span><span class="p">.</span><span class="nf">collection</span><span class="p">(</span><span class="dl">"</span><span class="s2">Quiz</span><span class="dl">"</span><span class="p">).</span><span class="nf">find</span><span class="p">().</span><span class="nf">toArray</span><span class="p">();</span> <span class="c1">//Quiz collection 안에 있는 모든 데이터 불러오기</span>

  <span class="c1">//_id를 문자열로 변환</span>
  <span class="nx">result</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nf">map</span><span class="p">((</span><span class="nx">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">a</span><span class="p">.</span><span class="nx">_id</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">_id</span><span class="p">.</span><span class="nf">toString</span><span class="p">();</span>
    <span class="k">return</span> <span class="nx">a</span><span class="p">;</span>
  <span class="p">});</span>

  <span class="c1">//문제가 랜덤하게 나올수 있도록 Quiz collection 안에 있는 데이터의 개수의 범위 안에서 20개의 랜덤숫자 생성하기</span>

  <span class="kd">const</span> <span class="nx">numbers</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">NumberOfQuestion</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">numbers</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="c1">//</span>

  <span class="kd">const</span> <span class="nx">answer</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">n</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">;</span> <span class="nx">n</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">index</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
    <span class="nx">answer</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="nx">numbers</span><span class="p">[</span><span class="nx">index</span><span class="p">]);</span>
    <span class="nx">numbers</span><span class="p">.</span><span class="nf">splice</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="c1">//로그인정보 가져오기</span>
  <span class="kd">let</span> <span class="nx">session</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">getServerSession</span><span class="p">(</span><span class="nx">authOptions</span><span class="p">);</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;&gt;</span>
      <span class="p">&lt;</span><span class="nc">Util</span> <span class="na">answer</span><span class="p">=</span><span class="si">{</span><span class="nx">answer</span><span class="si">}</span> <span class="na">result</span><span class="p">=</span><span class="si">{</span><span class="nx">result</span><span class="si">}</span> <span class="na">session</span><span class="p">=</span><span class="si">{</span><span class="nx">session</span><span class="si">}</span><span class="p">&gt;&lt;/</span><span class="nc">Util</span><span class="p">&gt;</span>
    <span class="p">&lt;/&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<div class="language-jsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Jsx"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c1">//src/app/quiz_h/util.js</span>

<span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nx">session</span><span class="p">)</span> <span class="p">{</span>
  <span class="nf">signIn</span><span class="p">();</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>session에 관한 정보를 util.js 로 넘겨서 로그인이 안되어있을시 바로 로그인하게 설정해줍니다.
이 코드를 퀴즈 만들기 페이지에도 똑같이 만들어줍시다.</p>

<p>모두 끝났다면 퀴즈 작성, 결과 전송을 할때, 유저의 정보도 같이 DB에 올려봅시다.</p>

<div class="language-jsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Jsx"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="c1">//src/app/newquiz/page.js</span>

<span class="k">import</span> <span class="nx">Checkbox</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Checkbox</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">getServerSession</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next-auth</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">authOptions</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/pages/api/auth/[...nextauth]</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nf">Newquiz</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">session</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">getServerSession</span><span class="p">(</span><span class="nx">authOptions</span><span class="p">);</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"container"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Checkbox</span> <span class="na">session</span><span class="p">=</span><span class="si">{</span><span class="nx">session</span><span class="si">}</span><span class="p">&gt;&lt;/</span><span class="nc">Checkbox</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<div class="language-jsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Jsx"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
</pre></td><td class="rouge-code"><pre><span class="c1">//src/app/newquiz/page.js</span>

<span class="dl">"</span><span class="s2">use client</span><span class="dl">"</span><span class="p">;</span>

<span class="k">import</span> <span class="dl">"</span><span class="s2">./Checkbox.css</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">signIn</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next-auth/react</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">Checkbox</span><span class="p">({</span> <span class="nx">session</span> <span class="p">})</span> <span class="p">{</span>
  <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nx">session</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">signIn</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="kd">let</span> <span class="nx">multiple_choice</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">];</span>

  <span class="kd">const</span> <span class="nx">onlyone</span> <span class="o">=</span> <span class="p">(</span><span class="nx">checkThis</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">checkboxes</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementsByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">a</span><span class="dl">"</span><span class="p">);</span>
    <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">checkboxes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if </span><span class="p">(</span><span class="nx">checkboxes</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">!==</span> <span class="nx">checkThis</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">checkboxes</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">checked</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="kd">const</span> <span class="nx">handleSubmit</span> <span class="o">=</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">QuestionInput</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">q</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">inputElements</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">elements</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">checkboxes</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementsByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">a</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">userName</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#userName</span><span class="dl">"</span><span class="p">);</span>

    <span class="nx">userName</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">session</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>

    <span class="c1">// "c"가 포함된 "name"을 가진 input 중 하나라도 비어있는지 확인</span>
    <span class="kd">let</span> <span class="nx">isAnyInputEmpty</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">inputElements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">inputName</span> <span class="o">=</span> <span class="nx">inputElements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span><span class="p">;</span>
      <span class="k">if </span><span class="p">(</span><span class="nx">inputName</span> <span class="o">&amp;&amp;</span> <span class="nx">inputName</span><span class="p">.</span><span class="nf">includes</span><span class="p">(</span><span class="dl">"</span><span class="s2">c</span><span class="dl">"</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">inputElements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">isAnyInputEmpty</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="kd">let</span> <span class="nx">isAnyCheckboxChecked</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">checkboxes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if </span><span class="p">(</span><span class="nx">checkboxes</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">checked</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">isAnyCheckboxChecked</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="nx">event</span><span class="p">.</span><span class="nf">preventDefault</span><span class="p">();</span> <span class="c1">// 기본 제출 동작 방지</span>

    <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nx">QuestionInput</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 제목 또는 내용이 비어있는 경우</span>
      <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">문제 내용을 입력해주세요!</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">isAnyInputEmpty</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">문제가 비었습니다!</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nx">isAnyCheckboxChecked</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">체크박스를 체크하여 정답을 선택하세요!</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nf">submit</span><span class="p">();</span> <span class="c1">// 제출</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="p">=</span><span class="s">"/api/write"</span> <span class="na">method</span><span class="p">=</span><span class="s">"POST"</span> <span class="na">onSubmit</span><span class="p">=</span><span class="si">{</span><span class="nx">handleSubmit</span><span class="si">}</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"checkbox-container"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>퀴즈 만들기<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span>
          <span class="na">name</span><span class="p">=</span><span class="s">"q"</span>
          <span class="na">type</span><span class="p">=</span><span class="s">"text"</span>
          <span class="na">placeholder</span><span class="p">=</span><span class="s">"문제의 내용을 입력하세요."</span>
          <span class="na">autoComplete</span><span class="p">=</span><span class="s">"off"</span>
        <span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>
        <span class="si">{</span><span class="nx">multiple_choice</span><span class="p">.</span><span class="nf">map</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
          <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"checkbox-row"</span> <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">i</span><span class="si">}</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"num"</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">multiple_choice</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">)</span><span class="dl">"</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">input</span>
              <span class="na">type</span><span class="p">=</span><span class="s">"text"</span>
              <span class="na">name</span><span class="p">=</span><span class="si">{</span><span class="dl">"</span><span class="s2">c</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">multiple_choice</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="si">}</span>
              <span class="na">placeholder</span><span class="p">=</span><span class="si">{</span><span class="nx">multiple_choice</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">번 문제</span><span class="dl">"</span><span class="si">}</span>
            <span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nt">input</span>
              <span class="na">type</span><span class="p">=</span><span class="s">"checkbox"</span>
              <span class="na">name</span><span class="p">=</span><span class="s">"a"</span>
              <span class="na">value</span><span class="p">=</span><span class="si">{</span><span class="nx">multiple_choice</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="si">}</span>
              <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nf">onlyone</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">)</span><span class="si">}</span>
            <span class="p">/&gt;</span>
          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">))</span><span class="si">}</span>
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">style</span><span class="p">=</span> <span class="na">type</span><span class="p">=</span><span class="s">"text"</span> <span class="na">name</span><span class="p">=</span><span class="s">"userid"</span> <span class="na">id</span><span class="p">=</span><span class="s">"userName"</span><span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="p">=</span><span class="s">"submit"</span> <span class="na">className</span><span class="p">=</span><span class="s">"submit-button"</span><span class="p">&gt;</span>
          제출하기
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이제 퀴즈 풀기 창에서도 유저의 이름과 함께 전송하도록 수정해줍니다.</p>

<div class="language-jsx highlighter-rouge"><div class="code-header">
        <span data-label-text="Jsx"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
</pre></td><td class="rouge-code"><pre><span class="c1">//src/app/quiz_h/util.js</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="nf">Util</span><span class="p">({</span> <span class="nx">result</span><span class="p">,</span> <span class="nx">answer</span><span class="p">,</span> <span class="nx">session</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">onlyone</span> <span class="o">=</span> <span class="p">(</span><span class="nx">checkThis</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">checkboxes</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementsByClassName</span><span class="p">(</span><span class="dl">"</span><span class="s2">q</span><span class="dl">"</span><span class="p">);</span>
    <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">checkboxes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if </span><span class="p">(</span><span class="nx">checkboxes</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">!==</span> <span class="nx">checkThis</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">checkboxes</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">checked</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="nf">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">//로딩이 완료되었다면 로딩페이지 제거</span>
    <span class="c1">// 변수/상수 선언</span>
    <span class="kd">const</span> <span class="nx">outer</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">.outer</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">innerList</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">.inner-list</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">inners</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelectorAll</span><span class="p">(</span><span class="dl">"</span><span class="s2">.inner</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">loading</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">load</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">buttonRight</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">.button-right</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">showScore</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#score</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">showResult</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">.black-bg</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">submitButton</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">.submitButton</span><span class="dl">"</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">score</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">IsitCorrect</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="p">();</span>

    <span class="c1">//다음문제 버튼을 클릭하였을시 실행되는 함수</span>
    <span class="nx">buttonRight</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">parentComponent</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="nx">count</span><span class="p">);</span>
      <span class="kd">const</span> <span class="nx">countCheckbox</span> <span class="o">=</span> <span class="nx">parentComponent</span><span class="p">.</span><span class="nf">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">input[type="checkbox"]</span><span class="dl">'</span><span class="p">);</span>

      <span class="kd">let</span> <span class="nx">isChecked</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

      <span class="c1">// 모든 체크박스를 반복하며 체크 상태를 확인합니다.</span>
      <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">countCheckbox</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if </span><span class="p">(</span><span class="nx">countCheckbox</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">checked</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">isChecked</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
          <span class="k">break</span><span class="p">;</span> <span class="c1">// 하나라도 체크되어 있으면 루프를 종료합니다.</span>
        <span class="p">}</span>
      <span class="p">}</span>

      <span class="c1">//하나도 체크되어 있지 않다면</span>
      <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nx">isChecked</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">체크박스를 체크하여 정답을 선택하세요!</span><span class="dl">"</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="c1">//그렇지 않으면</span>
      <span class="k">else</span> <span class="p">{</span>
        <span class="c1">//다음 문제로 넘기기</span>
        <span class="nx">currentIndex</span><span class="o">++</span><span class="p">;</span>
        <span class="nx">currentIndex</span> <span class="o">=</span> <span class="nx">currentIndex</span> <span class="o">&gt;=</span> <span class="nx">inners</span><span class="p">.</span><span class="nx">length</span> <span class="p">?</span> <span class="nx">inners</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">:</span> <span class="nx">currentIndex</span><span class="p">;</span>
        <span class="nx">innerList</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">marginLeft</span> <span class="o">=</span> <span class="s2">`-</span><span class="p">${</span><span class="nx">outer</span><span class="p">.</span><span class="nx">clientWidth</span> <span class="o">*</span> <span class="nx">currentIndex</span><span class="p">}</span><span class="s2">px`</span><span class="p">;</span>

        <span class="c1">//체크된 체크박스값 보기</span>
        <span class="kd">const</span> <span class="nx">checkboxes</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">input[type="checkbox"]:checked</span><span class="dl">'</span><span class="p">);</span>
        <span class="kd">const</span> <span class="nx">checkedValues</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">checkboxes</span><span class="p">).</span><span class="nf">map</span><span class="p">((</span><span class="nx">checkbox</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">checkbox</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>

        <span class="c1">//체크박스에 입력한 문제가 정답이라면 answer에 1을 넣고, 스코어 추가</span>
        <span class="k">if </span><span class="p">(</span><span class="nx">checkedValues</span> <span class="o">==</span> <span class="nx">result</span><span class="p">[</span><span class="nx">answer</span><span class="p">[</span><span class="nx">count</span><span class="p">]].</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
          <span class="c1">//19번째 문제에 도달했을때, 20번째 문제의 버튼은 '제출'로 보이게 하기</span>
          <span class="k">if </span><span class="p">(</span><span class="nx">count</span> <span class="o">&gt;=</span> <span class="mi">18</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">buttonRight</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">제출</span><span class="dl">"</span><span class="p">;</span>
          <span class="p">}</span>
          <span class="c1">//마지막 문제까지 제출하면, 결과 보여주기</span>
          <span class="k">if </span><span class="p">(</span><span class="nx">count</span> <span class="o">==</span> <span class="mi">19</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">showResult</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="dl">"</span><span class="s2">show-modal</span><span class="dl">"</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="nx">IsitCorrect</span><span class="p">[</span><span class="dl">"</span><span class="s2">answer</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">count</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
          <span class="nx">score</span><span class="o">++</span><span class="p">;</span>
          <span class="nx">showScore</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">score</span> <span class="o">*</span> <span class="mi">5</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">//오답시 answer에 0을 넣기</span>
        <span class="k">else</span> <span class="p">{</span>
          <span class="nx">IsitCorrect</span><span class="p">[</span><span class="dl">"</span><span class="s2">answer</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">count</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">//카운트 추가</span>
        <span class="nx">count</span><span class="o">++</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">});</span>

    <span class="nx">submitButton</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="k">async </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">IsitCorrect</span><span class="p">[</span><span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="nx">score</span> <span class="o">*</span> <span class="mi">5</span><span class="p">;</span>
      <span class="nx">IsitCorrect</span><span class="p">[</span><span class="dl">"</span><span class="s2">user</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="nx">session</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
      <span class="k">await</span> <span class="nf">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">/api/result</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">stringify</span><span class="p">(</span><span class="nx">IsitCorrect</span><span class="p">),</span>
      <span class="p">}).</span><span class="nf">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">success</span><span class="dl">"</span><span class="p">);</span>
        <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">제출완료</span><span class="dl">"</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span>

    <span class="c1">//로그인 안되어있으면 로그인시키기</span>
    <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nx">session</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">signIn</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="c1">//문제 개수만큼 div박스 늘리기</span>
    <span class="kd">let</span> <span class="nx">currentIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">if </span><span class="p">(</span><span class="nx">outer</span> <span class="o">&amp;&amp;</span> <span class="nx">innerList</span> <span class="o">&amp;&amp;</span> <span class="nx">inners</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">inners</span><span class="p">.</span><span class="nf">forEach</span><span class="p">((</span><span class="nx">inner</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">inner</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">outer</span><span class="p">.</span><span class="nx">clientWidth</span><span class="p">}</span><span class="s2">px`</span><span class="p">;</span>
      <span class="p">});</span>

      <span class="nx">innerList</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">outer</span><span class="p">.</span><span class="nx">clientWidth</span> <span class="o">*</span> <span class="nx">inners</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span><span class="s2">px`</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">const</span> <span class="nx">onPageLoad</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">loading</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">none</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">};</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
      <span class="k">if </span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">complete</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">onPageLoad</span><span class="p">();</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nb">window</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">load</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onPageLoad</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
        <span class="c1">// Remove the event listener when component unmounts</span>
        <span class="k">return </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">window</span><span class="p">.</span><span class="nf">removeEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">load</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onPageLoad</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">};</span>
  <span class="p">},</span> <span class="p">[]);</span>
  <span class="k">return</span><span class="p">(</span>

  <span class="c1">//생략</span>

  <span class="p">)}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>코드 수정중, 문제를 다 맞혀도 95점으로 뜨게 되는 문제도 함께 수정하였습니다.</p>

<p><a href="https://github.com/1221jyp/Quiz_project/assets/98996860/4cf69a0f-c9e6-4aea-b93d-f474b16c5361" class="popup img-link "><img width="679" alt="quiz_project_3-18" data-src="https://github.com/1221jyp/Quiz_project/assets/98996860/4cf69a0f-c9e6-4aea-b93d-f474b16c5361" class="lazyload" data-proofer-ignore></a></p>

<p>정상적으로 DB에 아이디가 출력되는 모습</p>

<h1 id="마치며">마치며</h1>

<hr />

<p>이번 시간에는 퀴즈를 푸는 페이지를 만들고, 회원기능, DB에 유저의 이름과 함께 결과를 전송하는 기능까지
제작하였습니다. 다음 시간엔 순위판을 제작하고, aws에 웹사이트를 등록해보겠습니다.</p>

<p>긴 글 읽어주셔서 감사합니다.</p>
</div>

<div class="post-tail-wrapper text-muted">
  <!-- categories -->
  
  <div class="post-meta mb-3">
    <i class="far fa-folder-open fa-fw mr-1"></i>
    
    <a
      href="/categories/macos/"
      >MacOs</a
    >,
    <a
      href="/categories/next-js/"
      >Next.js</a
    >,
    <a
      href="/categories/javascript/"
      >javascript</a
    >
  </div>
  

  <!-- tags -->
  
  <div class="post-tags">
    <i class="fa fa-tags fa-fw mr-1"></i>
    
    <a
      href="/tags/quiz-project/"
      class="post-tag no-text-decoration"
    >Quiz_project</a>
    
  </div>
  

  <div
    class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"
  >
    <!-- <div class="license-wrapper">
        This post is licensed under 
      <a href="https://creativecommons.org/licenses/by/4.0/">
        CC BY 4.0
      </a>
       by the author. 
    </div> -->

    <!--
 Post sharing snippet
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">Share</span>
  <span class="share-icons">
    
    
    

    

    <i id="copy-link" class="fa-fw fas fa-link small"
        data-toggle="tooltip" data-placement="top"
        title="Copy link"
        data-title-succeed="Link copied successfully!">
    </i>

  </span>
</div>

  </div>
  <!-- .post-tail-bottom -->
</div>
<!-- div.post-tail-wrapper -->
<script
  src="https://utteranc.es/client.js"
  repo="1221jyp/1221jyp.github.io"
  issue-term="pathname"
  label="comments"
  theme="github-dark"
  crossorigin="anonymous"
  async
></script>


      
    
    

    </div>
  </div> <!-- #core-wrapper -->

  <!-- panel -->
  <div id="panel-wrapper" class="col-xl-3 pl-2 text-muted">

    <div class="access">
      















  <div id="access-lastmod" class="post">
    <div class="panel-heading">Recently Updated</div>
    <ul class="post-content pl-0 pb-1 ml-1 mt-2">
      
        
        
        
      <li><a href="/posts/Quiz_project_2/">퀴즈 사이트 만들기_2 (next.js)</a></li>
      
        
        
        
      <li><a href="/posts/github-blog_1/">github 블로그 만들어보기_1 (MacOs)</a></li>
      
        
        
        
      <li><a href="/posts/github-blog_2/">github 블로그 만들어보기_2 chirpy테마 github업로드오류</a></li>
      
        
        
        
      <li><a href="/posts/Quiz_project_1/">퀴즈 사이트 만들기_1 (next.js)</a></li>
      
    </ul>
  </div> <!-- #access-lastmod -->



      















  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Trending Tags</div>
    <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

    
      
      <a class="post-tag" href="/tags/quiz-project/">Quiz_project</a>
    
      
      <a class="post-tag" href="/tags/github-blog/">github_blog</a>
    

    </div>
  </div>


    </div>

    
      
      



<!-- BS-toc.js will be loaded at medium priority -->
<script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script>

<div id="toc-wrapper" class="pl-0 pr-4 mb-5">
  <div class="panel-heading pl-3 pt-2 mb-2">Contents</div>
  <nav id="toc" data-toggle="toc"></nav>
</div>


    
  </div>

</div>

<!-- tail -->

<div class="row">
  <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5">
    
      
      <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  

  

  

  

  


  

  
    
  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  








<!-- Fill with the other newlest posts  -->





  <div id="related-posts" class="mb-2 mb-sm-4">
    <h3 class="pt-2 mb-4 ml-1"
      data-toc-skip>Further Reading</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/Quiz_project_1/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class="small"
    data-ts="1690252380"
    data-df="ll"
    >
  Jul 25, 2023
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>퀴즈 사이트 만들기_1 (next.js)</h3>
            <div class="text-muted small">
              <p>
                





                


  저의 모든 글은 MacOs silicon을 기준으로 작성됩니다.


시작하며

방학이 찾아온 김에 게으르게 놀지 말고 무언가 하나라도 만들어봐야지 하며 시작하게 되었다.
어떤 프로젝트를 만들면 좋을까 생각하다가, 캬훗과 비슷하지만, 다른 느낌의 퀴즈 사이트를 만들어보기로 결정했다.
카훗은 혼자 퀴즈를 풀 수 없고, 그룹장이 게임을 만들어야만 ...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/Quiz_project_2/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class="small"
    data-ts="1690684380"
    data-df="ll"
    >
  Jul 30, 2023
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>퀴즈 사이트 만들기_2 (next.js)</h3>
            <div class="text-muted small">
              <p>
                





                

시작하며



지난 포스팅에서는 next.js를 설치하고, 레이아웃까지 제작하였다. 이번 포스팅에서는
나머지 페이지들의 내용을 구성해볼것이다.


  저의 모든 글은 MacOs silicon을 기준으로 작성됩니다.


메인 페이지 구성



메인 페이지에는 이 웹사이트에 있는 기능들과 사용법을 소개할 것입니다.
아직 저의 프로젝트는 완성되어있지 않...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/Quiz_project_4/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class="small"
    data-ts="1691721180"
    data-df="ll"
    >
  Aug 11, 2023
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>퀴즈 사이트 만들기_4 (next.js)</h3>
            <div class="text-muted small">
              <p>
                





                시작하며

지난 시간에는 퀴즈 풀기 페이지, 회원기능 , DB를 이용한 회원아이디 저장 등의 기능을 만들었다.
이번 시간에는 순위판 페이지를 완성시키고, AWS에 파일을 업로드할 것이다.

순위판 구성



순위가 높은 순서대로 자료를 출력하기 위해 mongodb에서 데이터를 가져올때, sort()함수를 이용합니다.
sort함수를 사용하면 특정 자료의...
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->


    
      
      <!--
  Navigation buttons at the bottom of the post.
-->

<div class="post-navigation d-flex justify-content-between">
  
  <a href="/posts/Quiz_project_2/" class="btn btn-outline-primary"
    prompt="Older">
    <p>퀴즈 사이트 만들기_2 (next.js)</p>
  </a>
  

  
  <a href="/posts/Quiz_project_4/" class="btn btn-outline-primary"
    prompt="Newer">
    <p>퀴즈 사이트 만들기_4 (next.js)</p>
  </a>
  

</div>

    
      
      <!--  The comments switcher -->


    
  </div>
</div>


      </div>

      <!--
  The Search results
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-sm-11 post-content">
    <div id="search-hints">
      















  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Trending Tags</div>
    <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

    
      
      <a class="post-tag" href="/tags/quiz-project/">Quiz_project</a>
    
      
      <a class="post-tag" href="/tags/github-blog/">github_blog</a>
    

    </div>
  </div>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    <!-- The Footer -->

<footer>
  <div class="container pl-lg-4 pr-lg-4">
    <div
      class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"
    >
      <div class="footer-left">
        <p class="mb-0">
          © 2023
          <a href="https://github.com/1221jyp">1221jyp</a>. 
          <span
            data-toggle="tooltip"
            data-placement="top"
            title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
            >Some rights reserved.</span
          >
          
        </p>
      </div>

      <!-- <div class="footer-right">
        <p class="mb-0">Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>.
        </p>
      </div> -->
    </div>
  </div>
</footer>


    
      <!--
  mermaid-js loader
-->

<script src="https://cdn.jsdelivr.net/npm/mermaid@9.2.2/dist/mermaid.min.js"></script>

<script>
  (function () {

    function updateMermaid(event) {
      if (event.source === window && event.data &&
        event.data.direction === ModeToggle.ID) {

        const mode = event.data.message;

        if (typeof mermaid === "undefined") {
          return;
        }

        let expectedTheme = (mode === ModeToggle.DARK_MODE ? "dark" : "default");
        let config = {theme: expectedTheme};

        /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */
        $(".mermaid").each(function () {
          let svgCode = $(this).prev().children().html();
          $(this).removeAttr("data-processed");
          $(this).html(svgCode);
        });

        mermaid.initialize(config);
        mermaid.init(undefined, ".mermaid");
      }
    }

    let initTheme = "default";

    if ($("html[data-mode=dark]").length > 0
      || ($("html[data-mode]").length == 0
        && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
      initTheme = "dark";
    }

    let mermaidConf = {
      theme: initTheme  /* <default|dark|forest|neutral> */
    };

    /* Create mermaid tag */
    $("pre").has("code.language-mermaid").each(function () {
      let svgCode = $(this).children().html();
      $(this).addClass("unloaded");
      $(this).after(`<pre class=\"mermaid\">${svgCode}</pre>`);
    });

    mermaid.initialize(mermaidConf);

    window.addEventListener("message", updateMermaid);
  })();

</script>

    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    
      <div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true"
        data-animation="true" data-autohide="false">
        <div class="toast-header">
          <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="toast-body text-center pt-0">
          <p class="pl-2 pr-2 mb-3">A new version of content is available.</p>
          <button type="button" class="btn btn-primary" aria-label="Update">
            Update
          </button>
        </div>
      </div>
    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">Oops! No results found.</p>',
  templateMiddleware: function(prop, value, template) {
    if (prop === 'categories') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
      }
    }

    if (prop === 'tags') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
      }
    }
  }
});
</script>


    <!--
  JS selector for site.
-->

<!-- layout specified -->


  



  <!-- image lazy-loading & popup & clipboard -->
  

  







  
    

    

  



  
    

    

  



  
    

    

  




  <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js"></script>






  

  

  







  
    

    

  



  
    

    

  



  
    

    

  



  
    

    

  




  <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1.11.6/dayjs.min.js,npm/dayjs@1.11.6/locale/en.min.js,npm/dayjs@1.11.6/plugin/relativeTime.min.js,npm/dayjs@1.11.6/plugin/localizedFormat.min.js"></script>








<script defer src="/assets/js/dist/post.min.js"></script>


  <!-- MathJax -->
  <script>
  /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */
  MathJax = {
    tex: {
      inlineMath: [              /* start/end delimiter pairs for in-line math */
        ['$','$'],
        ['\\(','\\)']
      ],
      displayMath: [             /* start/end delimiter pairs for display math */
        ['$$', '$$'],
        ['\\[', '\\]']
      ]
    }
  };
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-chtml.js">
  </script>


<!-- commons -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>




  </body>

</html>

